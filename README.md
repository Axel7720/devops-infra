# Ansible Kubernetes Cluster Setup

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é Ansible. –ö–ª–∞—Å—Ç–µ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ —É–∑–ª–∞ (k8s-master), –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–±–æ—á–∏—Ö —É–∑–ª–æ–≤ (k8s-worker) –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (srv), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

ansible/
‚îú‚îÄ‚îÄ inventory/
‚îÇ ‚îî‚îÄ‚îÄ hosts.ini # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤: master, workers, srv
‚îú‚îÄ‚îÄ playbooks/
‚îÇ ‚îú‚îÄ‚îÄ init.yml # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ (swap, ssh, time, –∏ –ø—Ä.)
‚îÇ ‚îú‚îÄ‚îÄ docker.yml # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –Ω–∞ –≤—Å–µ —É–∑–ª—ã
‚îÇ ‚îú‚îÄ‚îÄ kube-deps.yml # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ kubeadm, kubelet, kubectl
‚îÇ ‚îú‚îÄ‚îÄ master.yml # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è master-–Ω–æ–¥
‚îÇ ‚îú‚îÄ‚îÄ workers.yml # –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ workers –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
‚îÇ ‚îî‚îÄ‚îÄ monitoring.yml # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ srv
‚îú‚îÄ‚îÄ roles/ # –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Ä–æ–ª–∏ Ansible
‚îî‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É
## üñ•  –£–∑–ª—ã –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

| –†–æ–ª—å         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                               |
|--------------|-----------------------------------------------------------|
| k8s-master | –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —É–∑–µ–ª: API Server, Scheduler, Controller Mgr  |
| k8s-worker | –†–∞–±–æ—á–∏–µ –Ω–æ–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π                      |
| srv        | –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –≥–¥–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è: Prometheus, Grafana, Alertmanager, Loki –∏ –¥—Ä. |
